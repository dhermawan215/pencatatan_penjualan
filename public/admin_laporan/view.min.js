var Index=function(){var csrf_token=$('meta[name="_token"]').attr("content"),handleNoTransaksi=function(){$("#noTrsc").select2({allowClear:!0,placeholder:"masukkan nomer transaksi",ajax:{method:"POST",url:HomeUrl+"/admin/laporan/data_transaksi",data:function(params){return{_token:csrf_token,search:params.term}},processResults:function(data){return{results:$.map(data,(function(item){return{id:item.id,text:item.no_transaksi}}))}}}}).on("select2:select",(function(evt){const data=$("#noTrsc option:selected").text();toastr.success("berhasil di pilih",data)}))},handleNoTrsc=function(){$("#formNoTrsc").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);$.ajax({type:"POST",url:HomeUrl+"/admin/laporan/laporan_transaksi",data:formData,processData:!1,contentType:!1,success:function(response){window.location.href=HomeUrl+"/admin/laporan_download/"+response},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))},handleHarian=function(){$("#formCariHarian").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);$.ajax({type:"POST",url:HomeUrl+"/admin/laporan/laporan_harian",data:formData,processData:!1,contentType:!1,success:function(response){window.location.href=HomeUrl+"/admin/laporan_download/"+response},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))},handleMingguan=function(){$("#formCariMingguan").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);$.ajax({type:"POST",url:HomeUrl+"/admin/laporan/laporan_mingguan",data:formData,processData:!1,contentType:!1,success:function(response){window.location.href=HomeUrl+"/admin/laporan_download/"+response},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))},handleBulanan=function(){$("#pencarianBulan").select2({allowClear:!0,placeholder:"pilih bulan",width:"resolve"}),$("#formCariBulanan").submit((function(e){e.preventDefault();const form=$(this);let formData=new FormData(form[0]);$.ajax({type:"POST",url:HomeUrl+"/admin/laporan/laporan_bulanan",data:formData,processData:!1,contentType:!1,success:function(response){window.location.href=HomeUrl+"/admin/laporan_download/"+response},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))};return{init:function(){handleNoTransaksi(),handleNoTrsc(),handleHarian(),handleBulanan(),handleMingguan()}}}();$(document).ready((function(){Index.init()}));